(this["webpackJsonpsmart-home"]=this["webpackJsonpsmart-home"]||[]).push([[0],{22:function(e,a,t){e.exports=t(38)},27:function(e,a,t){},38:function(e,a,t){"use strict";t.r(a);var c=t(1),n=t(0),r=t.n(n),s=t(19),l=t.n(s),d=r.a.createContext(),m=function(e,a){switch(a.type){case"ADD_USER":case"REMOVE_USER":return{user:a.userName};default:return e}};t(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=t(40),i=t(8),u=function(){var e=Object(n.useContext)(d).dispatch,a=Object(n.useState)(""),t=Object(c.a)(a,2),s=t[0],l=t[1],m=Object(n.useState)(""),o=Object(c.a)(m,2),i=o[0],u=o[1];return r.a.createElement("div",{className:"box-layout"},r.a.createElement("div",{className:"box-layout__box"},r.a.createElement("h1",{className:"box-layout__title"},"Welcome to your Smart Home app"),r.a.createElement("p",null,"Control all your devices ",r.a.createElement("br",null)," from one place"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),s?(e({type:"ADD_USER",userName:s}),l(s),C.push("/dashboard")):u("Please enter a name")}},i&&r.a.createElement("p",{className:"error"},i),r.a.createElement("input",{type:"text",placeholder:"Who's using the app?",value:s,onChange:function(e){return l(e.target.value)},className:"box-layout__input"}),r.a.createElement("button",{className:"button"},"OPEN"))))},f=function(){var e=Object(n.useContext)(d),a=e.users,t=e.dispatch,s=Object(n.useState)(""),l=Object(c.a)(s,2),m=l[0],o=l[1];return r.a.createElement("header",{className:"page-header"},r.a.createElement("p",{className:"header-title"},"Smart Home"),r.a.createElement("div",{className:"user-info"},r.a.createElement("span",{className:"userName"},a.user),a&&r.a.createElement("div",{className:"userCircle",onClick:function(){o(!m)}},r.a.createElement("div",{className:"face-circle"}),r.a.createElement("div",{className:"body"})),r.a.createElement("div",{className:m?"dd-menu active":"dd-menu"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:function(){t({type:"REMOVE_USER",user:!1}),o(!m),C.push("/")}},"Log out")))))},p=t(3),b=t.n(p),E=t(5),v=t(9),h=t(10),_=t(6),N=t.n(_),O=function(){var e=Object(n.useState)("City"),a=Object(c.a)(e,2),t=a[0],s=a[1],l=Object(n.useState)(0),d=Object(c.a)(l,2),m=d[0],o=d[1],i=Object(n.useState)(0),u=Object(c.a)(i,2),f=u[0],p=u[1],_=Object(n.useState)(0),O=Object(c.a)(_,2),j=O[0],y=O[1],w=Object(n.useState)(0),S=Object(c.a)(w,2),k=S[0],g=S[1],x=Object(n.useState)(0),C=Object(c.a)(x,2),H=C[0],I=C[1];return Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.weatherstack.com/current?access_key=b13f21dddfcbe0473a284618c6e3e069&query=Aalborg").then((function(e){return e.json()})).then((function(e){s(e.location.name),o(e.current.temperature),p(e.current.feelslike),y(e.current.precip),g(e.current.humidity),I(e.current.wind_speed)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",{className:"device-card"},r.a.createElement("div",{className:"card__header"},r.a.createElement("div",{className:"card__header__left"},r.a.createElement("p",{className:"card__header--title"},t.toUpperCase()),r.a.createElement("p",{className:"card__header--info"},N()().format("dddd"))),r.a.createElement("div",{className:"card__header__right"},r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}))),r.a.createElement("div",{className:"card__body"},r.a.createElement("div",{className:""},r.a.createElement(v.a,{icon:h.a,size:"6x",className:"card__body--cloudIcon"})),r.a.createElement("div",{className:"card__body--content"},r.a.createElement("span",null,Math.round(m),r.a.createElement("sup",null,"\u2103")),r.a.createElement("p",null,"Feels like: ",f,r.a.createElement("sup",null,"\u2103"))),r.a.createElement("div",{className:"card__body--details"},r.a.createElement("p",null,"Precip: ",j," %"),r.a.createElement("p",null,"Humidity: ",k," %"),r.a.createElement("p",null,"Wind: ",H," m/s"))),r.a.createElement("div",{className:"card__footer"},r.a.createElement("span",{className:"card__footer--indicator"}),r.a.createElement("p",null,"Last updated few hours ago")))},j=t(12),y=t.n(j),w=function(){var e=Object(n.useState)(!1),a=Object(c.a)(e,2),t=a[0],s=a[1];return r.a.createElement("div",{className:"device-card light-card"},r.a.createElement("div",{className:"card__header"},r.a.createElement("div",{className:"card__header__left"},r.a.createElement("p",{className:"card__header--title"},"Lights"),r.a.createElement("p",{className:"card__header--info"},"Home")),r.a.createElement("div",{className:"card__header__right"},r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}))),r.a.createElement("div",{className:"card__body"},r.a.createElement("div",{className:"card__body--lightIcon"},r.a.createElement(v.a,{icon:h.c,size:"6x",className:t?"active":"inactive"})),r.a.createElement("div",{className:"card__body--content"},t?r.a.createElement("span",{className:"active"},"On"):r.a.createElement("span",{className:"inactive"},"Off"),r.a.createElement(y.a,{onChange:function(){s(!t)},checked:t,uncheckedIcon:!1,checkedIcon:!1,offColor:"#3c3c3c",onColor:"#103875"}))),r.a.createElement("div",{className:"card__footer"},r.a.createElement("p",null,"Last updated few seconds ago")))},S=function(e){return r.a.createElement("div",null,"Alarm"===e.name||"Color indicator"===e.name?r.a.createElement("span",null):r.a.createElement("div",{className:"sensor-value"},"CO2"===e.name?r.a.createElement("span",{className:"co2"},e.name," :"):r.a.createElement("span",null,e.name),"CO2"===e.name?r.a.createElement("span",{className:"co2"},Math.round(e.state[0].data)," ",e.number.unit):r.a.createElement("span",null,Math.round(e.state[0].data)," ",e.number.unit)))},k=function(){var e=Object(n.useState)(""),a=Object(c.a)(e,2),t=a[0],s=a[1],l=Object(n.useState)(""),d=Object(c.a)(l,2),m=d[0],o=d[1],i=Object(n.useState)([]),u=Object(c.a)(i,2),f=u[0],p=u[1],v=Object(n.useState)(0),h=Object(c.a)(v,2),_=h[0],O=h[1],j=Object(n.useState)(""),y=Object(c.a)(j,2),w=y[0],k=y[1],g=Object(n.useState)(""),x=Object(c.a)(g,2),C=x[0],H=x[1],I="/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/67965514-5ddd-4e25-a58d-e52295bb09a7";return Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(I).then((function(e){return e.json()})).then((function(e){s(e.name),o(e.description),H(e.value[0].state[0].timestamp),p(e.value);var a=e.value[0].state[0].data/3e3*100;O(a),k(e.value[6].state[0].data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){new WebSocket("wss://www.seluxit.com/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/websocket").onmessage=function(e){fetch(I).then((function(e){return e.json()})).then((function(e){p(e.value);var a=e.value[0].state[0].data/3e3*100;O(a),k(e.value[6].state[0].data)}))}}),[]),r.a.createElement("div",{className:"device-card sensor-card"},r.a.createElement("div",{className:"card__header"},r.a.createElement("div",{className:"card__header__left"},r.a.createElement("p",{className:"card__header--title"},t),r.a.createElement("p",{className:"card__header--info"},m)),r.a.createElement("div",{className:"card__header__right"},r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}))),r.a.createElement("div",{className:"sensor-card__body"},r.a.createElement("div",{className:"sensor-value__container"},f.map((function(e){return r.a.createElement(S,Object.assign({key:e.name},e))}))),r.a.createElement("div",{className:"progress-bar"},r.a.createElement("span",{className:"filler-percent"},Math.round(_),"%"),r.a.createElement("div",{className:"filler",style:{height:"".concat(_,"%"),background:"#".concat(w)}}))),r.a.createElement("div",{className:"card__footer"},r.a.createElement("p",null,"Last updated ",N()().startOf(C).fromNow())))},g=function(){var e=Object(n.useState)(""),a=Object(c.a)(e,2),t=a[0],s=a[1],l=Object(n.useState)("0"),d=Object(c.a)(l,2),m=d[0],o=d[1],i=Object(n.useState)(""),u=Object(c.a)(i,2),f=(u[0],u[1]),p=Object(n.useState)(""),_=Object(c.a)(p,2),O=(_[0],_[1]),j=Object(n.useState)(),w=Object(c.a)(j,2),S=w[0],k=w[1],g=Object(n.useState)(""),x=Object(c.a)(g,2),C=x[0],H=x[1],I=Object(n.useState)(""),A=Object(c.a)(I,2),P=A[0],J=A[1],R=Object(n.useState)(!1),D=Object(c.a)(R,2),L=D[0],M=D[1],W="/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e";Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(W).then((function(e){return e.json()})).then((function(e){s(e.name),o(e.value[0].state[0].data),f(e.value[1].state[0].data),O(e.value[2].state[0].data),k(e.value[3].state[1].data),H(e.value[4].state[1].data),J(e.value[5].state[0].data)}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),M("0"!==m)}),[m,S,C]);return r.a.createElement("div",{className:"device-card stove"},r.a.createElement("div",{className:"card__header"},r.a.createElement("div",{className:"card__header__left"},r.a.createElement("p",{className:"card__header--title"},t,r.a.createElement(v.a,{icon:h.b,size:"1x",className:"1"===m?"active":"inactive"})),r.a.createElement("p",{className:"card__header--info"},"Home")),r.a.createElement("div",{className:"card__header__right"},r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}),r.a.createElement("span",{className:"circle"}))),r.a.createElement("div",{className:"card__body"},r.a.createElement("div",{className:"sensor-value__container"},r.a.createElement("div",{className:"sensor-value"},r.a.createElement("span",null,"Heat level: "),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e=parseInt(S)-1;function a(){return(a=Object(E.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e/value/ac455c88-ae17-4fd6-a4f1-1deadbeef04e/state/ac455c88-ae17-4fd6-a4f1-1deadbeef04c",{method:"PATCH",body:JSON.stringify({timestamp:N()().format().toString(),data:e,meta:{id:"ac455c88-ae17-4fd6-a4f1-1deadbeef04c"}})});case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}k(e),function(){a.apply(this,arguments)}()},disabled:!L},"-"),r.a.createElement("span",null,S," %"),r.a.createElement("button",{onClick:function(){var e=parseInt(S)+1;function a(){return(a=Object(E.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e/value/ac455c88-ae17-4fd6-a4f1-1deadbeef04e/state/ac455c88-ae17-4fd6-a4f1-1deadbeef04c",{method:"PATCH",body:JSON.stringify({timestamp:N()().format().toString(),data:e,meta:{id:"ac455c88-ae17-4fd6-a4f1-1deadbeef04c"}})});case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}k(e),function(){a.apply(this,arguments)}()},disabled:!L},"+"))),r.a.createElement("div",{className:"sensor-value"},r.a.createElement("span",null,"Desired temp: "),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e=parseInt(C)-1;function a(){return(a=Object(E.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e/value/ac455c88-ae17-4fd6-a4f1-1deadbeef05e/state/ac455c88-ae17-4fd6-a4f1-1deadbeef05c",{method:"PATCH",body:JSON.stringify({timestamp:N()().format().toString(),data:e,meta:{id:"ac455c88-ae17-4fd6-a4f1-1deadbeef05c"}})});case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}H(e),function(){a.apply(this,arguments)}()},disabled:!L},"-"),r.a.createElement("span",null,C," \u2103"),r.a.createElement("button",{onClick:function(){var e=parseInt(C)+1;function a(){return(a=Object(E.a)(b.a.mark((function a(){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e/value/ac455c88-ae17-4fd6-a4f1-1deadbeef05e/state/ac455c88-ae17-4fd6-a4f1-1deadbeef05c",{method:"PATCH",body:JSON.stringify({timestamp:N()().format().toString(),data:e,meta:{id:"ac455c88-ae17-4fd6-a4f1-1deadbeef05c"}})});case 2:case"end":return a.stop()}}),a)})))).apply(this,arguments)}H(e),function(){a.apply(this,arguments)}()},disabled:!L},"+"))),r.a.createElement("div",{className:"sensor-value"},r.a.createElement("span",null,"Smoke temp: "),r.a.createElement("span",null,P," \u2103"))),r.a.createElement("div",{className:"card__body--content"},"1"===m?r.a.createElement("span",{className:"active"},"On"):r.a.createElement("span",{className:"inactive"},"Off"),r.a.createElement(y.a,{onChange:function(){function e(){return(e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/smarthome/services/2.0/network/7a8ca0be-3f87-4e8d-ae4f-e4de75323084/device/bc455c88-ae17-4fd6-a4f1-1deadbeef01e/value/ac455c88-ae17-4fd6-a4f1-1deadbeef01e/state/ac455c88-ae17-4fd6-a4f1-1deadbeef01c",{method:"PATCH",body:JSON.stringify({timestamp:N()().format().toString(),data:"0"===m?"1":"0",meta:{id:"ac455c88-ae17-4fd6-a4f1-1deadbeef01c"}})});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"0"===m?o("1"):"1"===m&&o("0"),function(){e.apply(this,arguments)}()},checked:L,uncheckedIcon:!1,checkedIcon:!1,offColor:"#3c3c3c",onColor:"#103875"}))),r.a.createElement("div",{className:"card__footer"},r.a.createElement("p",null,"Last updated few seconds ago")))},x=function(){return r.a.createElement("div",{className:"content-container"},r.a.createElement(O,null),r.a.createElement(w,null),r.a.createElement(k,null),r.a.createElement(g,null))},C=Object(i.a)(),H=function(){return r.a.createElement(o.b,{history:C},r.a.createElement("div",null,r.a.createElement(f,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/",component:u,exact:!0}),r.a.createElement(o.a,{path:"/dashboard",component:x,exact:!0}))))};l.a.render(r.a.createElement((function(){var e=Object(n.useReducer)(m,""),a=Object(c.a)(e,2),t=a[0],s=a[1];return r.a.createElement(d.Provider,{value:{users:t,dispatch:s}},r.a.createElement(H,null))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.47c405ec.chunk.js.map